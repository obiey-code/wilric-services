<!DOCTYPE html>  
<html lang="fr">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Formulaire de Candidature</title>  
    <style>  
        .error {  
            color: red;  
            font-size: 0.9em;  
        }  
    </style>  
</head>  
<body>  
    <h1>Formulaire de Candidature</h1>  
    <form id="candidatureForm" action="/submit" method="POST" enctype="multipart/form-data">  
        <label for="nom">Nom :</label>  
        <input type="text" id="nom" name="nom" required minlength="2" maxlength="50" placeholder="Entrer votre nom">  
        <div class="error" id="nomError"></div><br>  

        <label for="prenom">Prénom :</label>  
        <input type="text" id="prenom" name="prenom" required minlength="2" maxlength="50" placeholder="Entrer votre prénom">  
        <div class="error" id="prenomError"></div><br>  

        <label for="email">Email :</label>  
        <input type="email" id="email" name="email" required placeholder="Entrer votre email">  
        <div class="error" id="emailError"></div><br>  

        <label for="telephone">Téléphone :</label>  
        <input type="tel" id="telephone" name="telephone" required pattern="^\+?[0-9]{10,15}$" placeholder="Téléphone (10-15 chiffres)">  
        <div class="error" id="telephoneError"></div><br>  

        <label for="lettreMotivation">Lettre de Motivation :</label>  
        <textarea id="lettreMotivation" name="lettreMotivation" required minlength="50" maxlength="2000" placeholder="Écrivez votre lettre de motivation ici..."></textarea>  
        <div class="error" id="lettreError"></div><br>  

        <label for="cv">Curriculum Vitae :</label>  
        <input type="file" id="cv" name="cv" accept=".pdf,.doc,.docx" required>  
        <div class="error" id="cvError"></div><br>  

        <input type="submit" value="Envoyer">  
    </form>  

    <script>  
        document.getElementById('candidatureForm').addEventListener('submit', function (event) {  
            let isValid = true;  

            // Effacer les messages d'erreur précédents  
            document.querySelectorAll('.error').forEach(function (el) {  
                el.textContent = '';  
            });  

            // Validation du nom  
            const nom = document.getElementById('nom');  
            if (nom.value.length < 2 || nom.value.length > 50) {  
                document.getElementById('nomError').textContent = 'Le nom doit contenir entre 2 et 50 caractères.';  
                isValid = false;  
            }  

            // Validation du prénom  
            const prenom = document.getElementById('prenom');  
            if (prenom.value.length < 2 || prenom.value.length > 50) {  
                document.getElementById('prenomError').textContent = 'Le prénom doit contenir entre 2 et 50 caractères.';  
                isValid = false;  
            }  

            // Validation de l'email  
            const email = document.getElementById('email');  
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value)) {  
                document.getElementById('emailError').textContent = 'Veuillez entrer une adresse email valide.';  
                isValid = false;  
            }  

            // Validation du téléphone  
            const telephone = document.getElementById('telephone');  
            if (!/^\+?[0-9]{10,15}$/.test(telephone.value)) {  
                document.getElementById('telephoneError').textContent = 'Veuillez entrer un numéro de téléphone valide (10-15 chiffres).';  
                isValid = false;  
            }  

            // Validation de la lettre de motivation  
            const lettreMotivation = document.getElementById('lettreMotivation');  
            if (lettreMotivation.value.length < 50 || lettreMotivation.value.length > 2000) {  
                document.getElementById('lettreError').textContent = 'La lettre de motivation doit contenir entre 50 et 2000 caractères.';  
                isValid = false;  
            }  

            // Validation du CV (simple : s'assurer qu'un fichier est sélectionné)  
            const cv = document.getElementById('cv');  
            if (!cv.files.length) {  
                document.getElementById('cvError').textContent = 'Veuillez télécharger votre CV.';  
                isValid = false;  
            }  

            // Si le formulaire n'est pas valide, empêcher l'envoi  
            if (!isValid) {  
                event.preventDefault();  
            }  
        });  
    </script>  
</body>  
</html>  